<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ULTRA HUB SUPREME FINAL</title>
    <style>
        :root { --p: #00f2ff; --bg: #020202; --glass: rgba(255, 255, 255, 0.08); --red: #ff3b30; }
        body { background: var(--bg); color: #fff; font-family: -apple-system, sans-serif; margin: 0; overflow: hidden; height: 100vh; transition: 0.5s; }
        #snow { position: fixed; inset: 0; z-index: 1; pointer-events: none; opacity: 0.3; }
        
        /* AUTH */
        #auth-overlay { position: fixed; inset: 0; background: #000; z-index: 9999; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(20px); }
        .auth-card { background: var(--glass); padding: 30px; border-radius: 30px; border: 1px solid var(--p); text-align: center; width: 300px; box-shadow: 0 0 30px var(--p); }
        
        input, select, .btn { width: 100%; padding: 12px; margin-top: 10px; border-radius: 12px; border: 1px solid var(--p); background: #000; color: #fff; font-weight: bold; cursor: pointer; }
        .btn:hover { background: var(--p); color: #000; }

        /* UI */
        #main-content { display: none; height: 100vh; flex-direction: column; z-index: 2; position: relative; }
        nav { display: flex; gap: 5px; padding: 10px; background: rgba(0,0,0,0.9); border-bottom: 1px solid var(--p); overflow-x: auto; }
        nav button { background: none; border: 1px solid var(--p); color: var(--p); padding: 8px 12px; border-radius: 8px; font-size: 11px; cursor: pointer; white-space: nowrap; font-weight: bold; }

        section { display: none; padding: 20px; flex-grow: 1; overflow-y: auto; text-align: center; box-sizing: border-box; }
        section.active { display: block; animation: appleAppear 0.5s ease; }
        @keyframes appleAppear { from { opacity: 0; transform: scale(0.95); filter: blur(10px); } to { opacity: 1; transform: scale(1); filter: blur(0); } }

        .card { background: var(--glass); padding: 20px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1); margin-bottom: 15px; }
        
        /* GAMES */
        #core { width: 110px; height: 110px; background: radial-gradient(circle, var(--p), transparent); border-radius: 50%; border: 3px solid #fff; margin: 20px auto; cursor: pointer; transition: 0.1s; }
        #core:active { transform: scale(0.9); }
        canvas { background: #000; border: 1px solid var(--p); max-width: 100%; display: block; margin: 0 auto; }
        #drop-zone { width: 100%; height: 300px; background: #000; position: relative; overflow: hidden; border: 1px solid var(--p); border-radius: 15px; }
        .drop-item { position: absolute; font-size: 24px; cursor: pointer; }
        #admin-panel { position: fixed; top: 10%; left: 50%; transform: translateX(-50%); background: #600; padding: 20px; border-radius: 20px; z-index: 10001; display: none; border: 2px solid #fff; }
    </style>
</head>
<body id="b">

<canvas id="snow"></canvas>

<!-- –í–•–û–î -->
<div id="auth-overlay">
    <div class="auth-card">
        <h2 style="color:var(--p)">SYSTEM ID</h2>
        <select id="u-sel">
            <option>–ù–∏–∫–∏—Ç–∞</option><option>–ê–ª–µ–Ω–∞</option><option>–°–∞—à–∞</option><option>–ê–ª–∏—Å–∞</option>
        </select>
        <input type="password" id="p-in" placeholder="–ü–ê–†–û–õ–¨">
        <button class="btn" onclick="login()">–í–•–û–î</button>
    </div>
</div>

<!-- –ê–î–ú–ò–ù–ö–ê (F8) -->
<div id="admin-panel">
    <h3>ADMIN PANEL</h3>
    <button class="btn" onclick="addB()">+100K BYTES</button>
    <button class="btn" style="background:red" onclick="reset()">FULL RESET</button>
    <button class="btn" onclick="document.getElementById('admin-panel').style.display='none'">CLOSE</button>
</div>

<div id="main-content">
    <nav>
        <button onclick="st('h')">HUB</button>
        <button onclick="st('m')">MINER</button>
        <button onclick="st('d')">DROP</button>
        <button onclick="st('r')">RUNNER</button>
        <button onclick="st('t')">TOM</button>
        <button onclick="st('s')">STATS</button>
        <button onclick="st('f')">FILES</button>
    </nav>

    <section id="h" class="active">
        <div class="card">
            <h1 id="tm" style="font-size: 3rem; margin:0;">00:00:00</h1>
            <div id="cp" style="width:70px; height:70px; border:2px solid var(--p); border-radius:50%; margin:15px auto; position:relative;">
                <div id="ar" style="width:2px; height:50px; background:red; position:absolute; left:34px; top:10px; transition:0.2s;"></div>
            </div>
            <p id="usr-tag" style="color:var(--p); font-weight:bold;"></p>
        </div>
    </section>

    <section id="m">
        <div class="card">
            <h2 id="bd">0 BYTES</h2>
            <div id="core" onclick="ck()"></div>
            <p>–ö–ª–∏–∫–∞–π –Ω–∞ —è–¥—Ä–æ</p>
        </div>
    </section>

    <section id="d">
        <div class="card">
            <h3>CYBER DROP (LVL <span id="dlvl">1</span>)</h3>
            <div id="drop-zone" onclick="dropCatch(event)"></div>
        </div>
    </section>

    <section id="r">
        <div class="card">
            <h3>SUBWAY RUNNER</h3>
            <canvas id="rc" width="300" height="400"></canvas>
            <p>–°—Ç—Ä–µ–ª–∫–∏ ‚Üê ‚Üí</p>
        </div>
    </section>

    <section id="t">
        <div class="card">
            <div style="font-size:100px" id="t-emoji">üò∏</div>
            <p>–°—ã—Ç–æ—Å—Ç—å: <span id="fv">100</span>%</p>
            <button class="btn" onclick="fd()">–ö–û–†–ú–ò–¢–¨ (50B)</button>
        </div>
    </section>

    <section id="s">
        <div class="card">
            <h3>–†–ï–ö–û–†–î–´</h3>
            <p>MINER: <span id="r-m">0</span></p>
            <p>DROP: <span id="r-d">0</span></p>
            <p>RUNNER: <span id="r-r">0</span></p>
        </div>
    </section>

    <section id="f">
        <div class="card">
            <input type="file" id="fi" onchange="ld(event)" style="display:none">
            <button class="btn" onclick="document.getElementById('fi').click()">–û–¢–ö–†–´–¢–¨ –§–ê–ô–õ</button>
            <video id="vi" controls style="width:100%; display:none; margin-top:10px; border-radius:10px;"></video>
            <img id="im" style="width:100%; display:none; margin-top:10px; border-radius:10px;">
        </div>
    </section>
</div>

<script>
    let b = parseInt(localStorage.getItem('b')) || 0, u = "", dScore = 0, rScore = 0;
    const rec = JSON.parse(localStorage.getItem('rec')) || {m:0, d:0, r:0};

    function login() {
        const name = document.getElementById('u-sel').value, p = document.getElementById('p-in').value;
        if(!p) return;
        u = name;
        document.getElementById('auth-overlay').style.display = 'none';
        document.getElementById('main-content').style.display = 'flex';
        document.getElementById('usr-tag').innerText = "ONLINE: " + u.toUpperCase();
        upStats();
    }

    function st(id) {
        document.querySelectorAll('section').forEach(x => x.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(id === 'd') startDrop();
        if(id === 'r') startRun();
    }

    // MINER
    function ck() {
        b++; document.getElementById('bd').innerText = b + " BYTES";
        if(b > rec.m) { rec.m = b; saveRec(); }
        localStorage.setItem('b', b);
    }

    // DROP
    function startDrop() {
        if(window.dInt) clearInterval(window.dInt);
        dScore = 0;
        window.dInt = setInterval(() => {
            const dz = document.getElementById('drop-zone');
            const item = document.createElement('div');
            item.className = 'drop-item'; item.innerText = 'üíé';
            item.style.left = Math.random() * 90 + '%'; item.style.top = '-30px';
            dz.appendChild(item);
            let pos = 0, fall = setInterval(() => {
                pos += (3 + Math.floor(dScore/10)); item.style.top = pos + 'px';
                if(pos > 300) { clearInterval(fall); item.remove(); }
            }, 30);
            item.onclick = (e) => {
                e.stopPropagation(); dScore++;
                document.getElementById('dlvl').innerText = 1 + Math.floor(dScore/10);
                if(dScore > rec.d) { rec.d = dScore; saveRec(); }
                item.remove();
            };
        }, 1000);
    }

    // RUNNER
    function startRun() {
        const c = document.getElementById('rc'), x = c.getContext('2d');
        let px = 135, obs = [], f = 0; rScore = 0;
        if(window.rInt) clearInterval(window.rInt);
        window.rInt = setInterval(() => {
            f++; x.clearRect(0, 0, 300, 400);
            x.fillStyle = "#00f2ff"; x.fillRect(px, 350, 30, 30);
            if(f % 60 == 0) obs.push({x: Math.random()*270, y: -30});
            obs.forEach((o, i) => {
                o.y += 4; x.fillStyle = 'red'; x.fillRect(o.x, o.y, 30, 30);
                if(o.y > 350 && Math.abs(o.x - px) < 30) { clearInterval(window.rInt); alert('GAME OVER'); }
                if(o.y > 400) { obs.splice(i, 1); rScore++; if(rScore > rec.r) { rec.r = rScore; saveRec(); } }
            });
        }, 20);
        window.onkeydown = (e) => {
            if(e.key === 'ArrowLeft' && px > 0) px -= 30;
            if(e.key === 'ArrowRight' && px < 270) px += 30;
        };
    }

    // OTHER
    function fd() { if(b >= 50) { b -= 50; document.getElementById('fv').innerText = "100"; ck(); } }
    function ld(e) {
        const f = e.target.files, url = URL.createObjectURL(f), v = document.getElementById('vi'), i = document.getElementById('im');
        v.style.display = i.style.display = 'none';
        if(f.type.includes('video')) { v.src = url; v.style.display = 'block'; }
        else { i.src = url; i.style.display = 'block'; }
    }
    function saveRec() { localStorage.setItem('rec', JSON.stringify(rec)); upStats(); }
    function upStats() {
        document.getElementById('r-m').innerText = rec.m;
        document.getElementById('r-d').innerText = rec.d;
        document.getElementById('r-r').innerText = rec.r;
    }
    function addB() { b += 100000; ck(); }
    function reset() { localStorage.clear(); location.reload(); }
    window.onkeydown = (e) => { if(e.key === 'F8' && u === "–ù–∏–∫–∏—Ç–∞") document.getElementById('admin-panel').style.display = 'block'; };
    
    setInterval(() => { document.getElementById('tm').innerText = new Date().toLocaleTimeString(); }, 1000);
    window.addEventListener('deviceorientation', e => { document.getElementById('ar').style.transform = `rotate(${-e.alpha}deg)`; });

    // SNOW
    const sn = document.getElementById('snow'), scx = sn.getContext('2d');
    sn.width = innerWidth; sn.height = innerHeight;
    function ds() {
        scx.clearRect(0,0,innerWidth,innerHeight); scx.fillStyle="#fff";
        for(let i=0; i<30; i++) scx.fillRect(Math.random()*innerWidth, Math.random()*innerHeight, 2, 2);
        requestAnimationFrame(ds);
    } ds();
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ULTRA HUB: EVOLUTION</title>
    <style>
        :root { --p: #00f2ff; --bg: #050505; --glass: rgba(255, 255, 255, 0.08); }
        body { background: var(--bg); color: #fff; font-family: -apple-system, sans-serif; margin: 0; overflow: hidden; height: 100vh; }
        body.mobile { font-size: 18px; }
        
        /* AUTH & ADAPTIVE */
        #auth-overlay { position: fixed; inset: 0; background: #000; z-index: 9999; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(20px); }
        .auth-card { background: var(--glass); padding: 30px; border-radius: 30px; border: 1px solid var(--p); text-align: center; width: 320px; }
        
        select, input, .btn { width: 100%; padding: 14px; margin-top: 10px; border-radius: 12px; border: 1px solid var(--p); background: #000; color: #fff; font-weight: bold; cursor: pointer; }
        .btn:hover { background: var(--p); color: #000; }

        /* UI */
        #main-content { display: none; height: 100vh; flex-direction: column; }
        nav { display: flex; gap: 5px; padding: 10px; background: #000; border-bottom: 1px solid var(--p); overflow-x: auto; }
        nav button { background: var(--glass); border: 1px solid var(--p); color: var(--p); padding: 10px 15px; border-radius: 10px; font-size: 11px; white-space: nowrap; }

        section { display: none; padding: 20px; flex-grow: 1; overflow-y: auto; text-align: center; }
        section.active { display: block; animation: slideUp 0.4s ease; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .card { background: var(--glass); padding: 20px; border-radius: 25px; border: 1px solid rgba(255,255,255,0.1); margin-bottom: 20px; }

        /* TAMAGOTCHI TOM 2 */
        #tom-state { font-size: 100px; display: block; margin: 20px 0; transition: 0.3s; }
        .stat-row { margin: 10px 0; text-align: left; }
        .bar { height: 12px; background: #222; border-radius: 6px; overflow: hidden; border: 1px solid #333; }
        .fill { height: 100%; background: var(--p); width: 100%; transition: 0.5s; }

        /* LEADERBOARD */
        .leader-item { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid var(--glass); }
        .leader-item.me { color: var(--p); font-weight: bold; border-left: 3px solid var(--p); padding-left: 10px; }

        #core { width: 130px; height: 130px; background: radial-gradient(circle, var(--p), transparent); border-radius: 50%; border: 4px solid #fff; margin: 20px auto; cursor: pointer; transition: 0.1s; }
        #admin-panel { position: fixed; top: 10%; left: 50%; transform: translateX(-50%); background: #600; padding: 20px; border-radius: 20px; z-index: 10001; display: none; border: 2px solid #fff; }
    </style>
</head>
<body id="b">

<div id="auth-overlay">
    <div class="auth-card">
        <h2 style="color:var(--p)">CYBER IDENTITY</h2>
        <select id="u-sel"><option>–ù–∏–∫–∏—Ç–∞</option><option>–ê–ª–µ–Ω–∞</option><option>–°–∞—à–∞</option><option>–ê–ª–∏—Å–∞</option></select>
        <select id="d-sel"><option value="pc">–ö–æ–º–ø—å—é—Ç–µ—Ä</option><option value="mobile">–°–º–∞—Ä—Ç—Ñ–æ–Ω</option></select>
        <input type="password" id="p-in" placeholder="–ü–ê–†–û–õ–¨">
        <button class="btn" onclick="identify()">ACCESS HUB</button>
    </div>
</div>

<div id="admin-panel">
    <h3>ADMIN: NIKITA</h3>
    <button class="btn" onclick="addB()">+100K BYTES</button>
    <button class="btn" style="background:red" onclick="fullReset()">WIPE ALL</button>
    <button class="btn" onclick="document.getElementById('admin-panel').style.display='none'">CLOSE</button>
</div>

<div id="main-content">
    <nav>
        <button onclick="st('home')">CORE</button>
        <button onclick="st('tom')">–¢–û–ú 2</button>
        <button onclick="st('miner')">MINER</button>
        <button onclick="st('rating')">–†–ï–ô–¢–ò–ù–ì</button>
        <button onclick="st('sys')">–í–´–•–û–î</button>
    </nav>

    <section id="home" class="active">
        <div class="card">
            <h1 id="clock" style="font-size: 3.5rem; margin:0;">00:00:00</h1>
            <p id="usr-tag"></p>
        </div>
    </section>

    <section id="tom">
        <div class="card">
            <div id="tom-state">üò∏</div>
            <div class="stat-row">–ï–¥–∞: <div class="bar"><div id="f-bar" class="fill"></div></div></div>
            <div class="stat-row">–≠–Ω–µ—Ä–≥–∏—è: <div class="bar"><div id="e-bar" class="fill" style="background:#ffcc00"></div></div></div>
            <div style="display:flex; gap:10px; margin-top:20px;">
                <button class="btn" onclick="tomAct('feed')">–ö–û–†–ú–ò–¢–¨</button>
                <button class="btn" onclick="tomAct('sleep')">–°–ü–ê–¢–¨</button>
            </div>
        </div>
    </section>

    <section id="miner">
        <div class="card">
            <h2 id="bytes">0 BYTES</h2>
            <div id="core" onclick="ck()"></div>
        </div>
    </section>

    <section id="rating">
        <div class="card">
            <h3>–¢–ê–ë–õ–ò–¶–ê –õ–ò–î–ï–†–û–í</h3>
            <div id="leader-list"></div>
        </div>
    </section>

    <section id="sys">
        <div class="card">
            <button class="btn" onclick="location.reload()">–í–´–ô–¢–ò</button>
            <button class="btn" style="background:red" onclick="fullReset()">RESET ALL</button>
        </div>
    </section>
</div>

<script>
    let curU = "", dev = "";
    let bData = JSON.parse(localStorage.getItem('h_data')) || { "–ù–∏–∫–∏—Ç–∞":0, "–ê–ª–µ–Ω–∞":0, "–°–∞—à–∞":0, "–ê–ª–∏—Å–∞":0 };
    let tom = { f:100, e:100 };

    function identify() {
        const u = document.getElementById('u-sel').value, d = document.getElementById('d-sel').value, p = document.getElementById('p-in').value;
        if(!p) return;
        curU = u; dev = d;
        if(d === 'mobile') document.body.classList.add('mobile');
        document.getElementById('auth-overlay').style.display='none';
        document.getElementById('main-content').style.display='flex';
        document.getElementById('usr-tag').innerText = "IDENTIFIED: " + u;
        updateUI(); startTom(); renderLeaders();
    }

    function st(id) {
        document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(id === 'rating') renderLeaders();
    }

    // MINER
    function ck() {
        bData[curU]++;
        updateUI();
        localStorage.setItem('h_data', JSON.stringify(bData));
    }

    // TOM 2 LOGIC
    function startTom() {
        setInterval(() => {
            tom.f = Math.max(0, tom.f - 1);
            tom.e = Math.max(0, tom.e - 0.5);
            updateTomUI();
        }, 3000);
    }
    function updateTomUI() {
        document.getElementById('f-bar').style.width = tom.f + "%";
        document.getElementById('e-bar').style.width = tom.e + "%";
        const ts = document.getElementById('tom-state');
        if(tom.f < 20) ts.innerText = "üçï?"; else if(tom.e < 20) ts.innerText = "üò¥"; else ts.innerText = "üò∏";
    }
    function tomAct(a) {
        if(a === 'feed') { tom.f = Math.min(100, tom.f + 30); document.getElementById('tom-state').innerText = "üòã"; }
        if(a === 'sleep') { tom.e = 100; document.getElementById('tom-state').innerText = "üí§"; }
    }

    // LEADERBOARD
    function renderLeaders() {
        const list = document.getElementById('leader-list');
        list.innerHTML = "";
        Object.entries(bData)
            .sort(([,a], [,b]) => b - a)
            .forEach(([name, val]) => {
                const div = document.createElement('div');
                div.className = `leader-item ${name === curU ? 'me' : ''}`;
                div.innerHTML = `<span>${name}</span><span>${val} BYTES</span>`;
                list.appendChild(div);
            });
    }

    function updateUI() { document.getElementById('bytes').innerText = bData[curU] + " BYTES"; }
    function addB() { bData[curU] += 100000; updateUI(); localStorage.setItem('h_data', JSON.stringify(bData)); }
    function fullReset() { localStorage.clear(); location.reload(); }

    window.onkeydown = e => { if(e.key === 'F8' && curU === "–ù–∏–∫–∏—Ç–∞") document.getElementById('admin-panel').style.display='block'; };
    setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString(); }, 1000);
</script>
</body>
</html>
